# Memory: 2026-02-26

## Japan Dashboard - Picasso Edition
- **Spawned Picasso** (UI Designer sub-agent) to create polished Japan trip dashboard
- Features built:
  - Dark/light theme toggle
  - Animated hero section with gradients
  - Card-based layouts for hotels, restaurants, itinerary
  - Dietary filters for Riya (vegetarian), Lara (picky), Tejal (no beef)
  - Responsive mobile design
  - Professional SaaS aesthetic
- **File created:** `scripts/japan-dashboard-polished.py` (19KB)
- **Pushed to GitHub:** ppkulk-oss/Pierre-agent-platform
- **Deployment:** Ready for Streamlit Cloud or Railway

## Heartbeat Solution
- Problem: Heartbeats interrupting long-running tasks
- Solution: Spawn sub-agents for async work (like Picasso)
- This allows heartbeats to run in main session without interrupting UI work

## Technical Learnings
- Sub-agents need proper file I/O - Picasso started writing CSS but got truncated
- Direct file writes from main session more reliable for large outputs
- `sessions_spawn` works well for isolated tasks with `runTimeoutSeconds`

## Dashboard v3 - Native Streamlit Fix
- **Problem:** Streamlit Cloud doesn't render custom HTML/CSS by default (shows raw HTML)
- **Solution:** Rebuilt entire dashboard using native Streamlit components only
- **Changes:**
  - Removed all `st.markdown(..., unsafe_allow_html=True)` with complex HTML
  - Uses `st.tabs`, `st.columns`, `st.metric`, `st.container(border=True)` â€” all native
  - Minimal CSS only for gradient text headers
  - File: `scripts/japan-dashboard.py` (10KB, down from 22KB)
- **Status:** Pushed to GitHub, auto-deploying to Streamlit Cloud
- **Result:** Now renders correctly on Streamlit Cloud

## Key Lesson
- Streamlit Cloud has security settings that block custom HTML/CSS
- Native components are the only reliable way for public Streamlit deployments
- Trade-off: Less custom design flexibility, but guaranteed compatibility

---
*Logged: 2026-02-26 UTC*
